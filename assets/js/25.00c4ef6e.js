(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{374:function(s,e,t){"use strict";t.r(e);var a=t(1),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"import-vue-from-vue-はなぜ使えるか？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-vue-from-vue-はなぜ使えるか？"}},[s._v("#")]),s._v(" import Vue from 'vue'はなぜ使えるか？")]),s._v(" "),t("p",[s._v("Vuejs の開発の際、よく最初に出てくるこれ")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("下のような相対パスなどはまだわかりやすいけど、")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Example "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./Example.vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("vue")]),s._v("はなず"),t("code",[s._v("import")]),s._v("できるのか、みんな様こんな疑問はないのか。\nもしかして俺一人の疑問かも 😣")]),s._v(" "),t("p",[s._v("少し研究してきたことをまとめてみた。")]),s._v(" "),t("h2",{attrs:{id:"import-とは"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#import-とは"}},[s._v("#")]),s._v(" import とは")]),s._v(" "),t("p",[s._v("Javascript のモジュールシステムです。他のファイルを使いたい時、"),t("code",[s._v("require")]),s._v(" function で他のファイルの内容を引用する。\n"),t("code",[s._v("es6")]),s._v("を使っている時、"),t("code",[s._v("import")]),s._v("を"),t("code",[s._v("require")]),s._v("にコンパイルする。\nだから、実際に実行するコードは以下。")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n⬇️\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" Vue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"nodejs-引用ルール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-引用ルール"}},[s._v("#")]),s._v(" nodejs 引用ルール")]),s._v(" "),t("p",[s._v("実は、nodejs の中に、"),t("code",[s._v("require")]),s._v("を使う時に、"),t("code",[s._v("require.reslove")]),s._v(" function を使ってファイルのパスを探している。この function は優先順位は以下になる。\n"),t("code",[s._v("require(X) from module at path Y")]),s._v(" 1.もし"),t("code",[s._v("X")]),s._v("はコアのパッケージかどうか、普段の"),t("code",[s._v("path")]),s._v("などみたいは直接引用される。ではなければ、次へ。 2.もし"),t("code",[s._v("X")]),s._v("は"),t("code",[s._v("/")]),s._v("から始めれば、"),t("code",[s._v("Y")]),s._v("のパスは OS の"),t("code",[s._v("root")]),s._v("と設定。ではなければ、次へ。 3.もし"),t("code",[s._v("X")]),s._v("は"),t("code",[s._v("./")]),s._v(","),t("code",[s._v("/")]),s._v(","),t("code",[s._v("../")]),s._v("から始めれば、"),t("code",[s._v("(Y + X)")]),s._v("ファイルかディレクトリ引用。ではなければ、次へ。 4."),t("code",[s._v("node_modules")]),s._v("フォルダの中に、見つかる！")]),s._v(" "),t("h2",{attrs:{id:"node-modules-にある-vue"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-modules-にある-vue"}},[s._v("#")]),s._v(" node_modules にある vue")]),s._v(" "),t("p",[t("code",[s._v("node_modules")]),s._v("に確かに"),t("code",[s._v("vue")]),s._v("というフォルダは存在しているが、"),t("code",[s._v("new Vue()")]),s._v("などの操作の時は、Js の Object として使っている。では、なぜか！\n真の犯人まではもう少し 🎭❗️\n"),t("code",[s._v("npm")]),s._v("のパッケージとして、内部の出力はまたルールがある！\nまずは、"),t("code",[s._v("node_modules/vue")]),s._v("のディレクトリツリーを見てみる。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("├── LICENSE\n├── README.md\n├── dist\n├── package.json\n├── src\n└── types\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("ルールは以下になる。 1."),t("code",[s._v("package.json")]),s._v("に"),t("code",[s._v("main")]),s._v("が定義されたら、"),t("code",[s._v("main")]),s._v("に入り口を探す。 2."),t("code",[s._v("package.json")]),s._v("がなければ、"),t("code",[s._v("index.js")]),s._v("か"),t("code",[s._v("index.node")]),s._v("を読む。 3.どちらもなければ、"),t("code",[s._v("Error: Cannot find module 'some-library'")]),s._v("を投げる。")]),s._v(" "),t("p",[s._v("では、"),t("code",[s._v("node_modules/vue/packeage.json")]),s._v("こう書いてある ❗️")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"main"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dist/vue.runtime.common.js"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("ではでは、だんだん明らかになってきた ❗️")]),s._v(" "),t("h2",{attrs:{id:"本当にいつもimportしたものは"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本当にいつもimportしたものは"}},[s._v("#")]),s._v(" 本当にいつも"),t("code",[s._v("import")]),s._v("したものは...")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" vue "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'vue'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 実は、これに変換する")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" vue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./node_modules/vue/dist/vue.runtime.common.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("その内容は")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'production'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./vue.runtime.common.prod.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./vue.runtime.common.dev.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("これは普段"),t("code",[s._v("npm")]),s._v("のスクリプトにある"),t("code",[s._v("NODE_ENV=development")]),s._v("を読んで、実行環境に応じて違う"),t("code",[s._v("vue")]),s._v("インスタンスの"),t("code",[s._v("export")]),s._v("ができるようになった 💥")]),s._v(" "),t("p",[s._v("今回の"),t("code",[s._v("import")]),s._v("ルールや他にも今回出てなかったルールの詳細は"),t("a",{attrs:{href:"https://nodejs.org/api/modules.html#modules_all_together",target:"_blank",rel:"noopener noreferrer"}},[s._v("nodejs"),t("OutboundLink")],1),s._v("のドキュメントに 🤓")])])}),[],!1,null,null,null);e.default=n.exports}}]);